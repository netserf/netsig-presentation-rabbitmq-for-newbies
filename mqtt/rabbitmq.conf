# RabbitMQ Configuration for MQTT Broadcast Behavior
# This configuration ensures proper pub/sub broadcast where all subscribers
# receive published messages, rather than load-balancing behavior

# MQTT Plugin Configuration
mqtt.listeners.tcp.default = 1883
mqtt.allow_anonymous = false

# Use topic exchange for proper pub/sub broadcast
mqtt.exchange = amq.topic

# Subscription settings
# Session expiry interval (24 hours in seconds, replaces deprecated subscription_ttl)
mqtt.max_session_expiry_interval_seconds = 86400
mqtt.prefetch = 10

# Enable retained messages
mqtt.retained_message_store = rabbit_mqtt_retained_msg_store_ets
mqtt.retained_message_store_dets_sync_interval = 2000

# Logging for debugging
log.file.level = info
log.console = true
log.console.level = info
